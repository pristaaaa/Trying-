<!DOCTYPE html>
<html lang="en">
<head>
    <title>Telegram-Live-Cric-Hd</title>
    <meta charset="UTF-8">
    <meta name="referrer" content="no-referrer">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body bgcolor="black" style="margin:0">
  <script>
      
      document.addEventListener('DOMContentLoaded', function () {
  const shakaPlayerContainer = document.createElement('div');
  shakaPlayerContainer.setAttribute('data-shaka-player-container', '');
  shakaPlayerContainer.style.width = '100%';
  shakaPlayerContainer.style.height = '100%';
  shakaPlayerContainer.style.cursor = 'none';
  shakaPlayerContainer.className = 'shaka-mobile shaka-video-container';
  shakaPlayerContainer.setAttribute('shaka-controls', 'true');

  const shakaVideo = document.createElement('video');
  shakaVideo.poster = 'https://i.im.ge/2024/04/23/ZL90hm.IMG-20240423-133104.png';
  shakaVideo.autoplay = true;
  shakaVideo.setAttribute('data-shaka-player', '');
  shakaVideo.id = 'video';
  shakaVideo.style.width = '100%';
  shakaVideo.style.height = '100%';
  shakaVideo.className = 'shaka-video';

  shakaPlayerContainer.appendChild(shakaVideo);

  const centerElement = document.createElement('center');
  centerElement.appendChild(shakaPlayerContainer);

  document.body.appendChild(centerElement);

  const telegramDiv = document.createElement('div');
  telegramDiv.style.backgroundColor = '#0074d9';
  telegramDiv.style.textAlign = 'center';
  telegramDiv.style.padding = '10px';

  const telegramLink = document.createElement('a');
  telegramLink.href = 'https://telegram.me/livecrichdd';
  telegramLink.target = '_blank';

  const joinTelegramButton = document.createElement('button');
  joinTelegramButton.id = 'joinTelegramButton';
  joinTelegramButton.style.backgroundColor = '#fff';
  joinTelegramButton.style.color = '#0074d9';
  joinTelegramButton.style.border = '2px solid #0074d9';
  joinTelegramButton.style.padding = '5px 10px';
  joinTelegramButton.textContent = 'Join Telegram';

  telegramLink.appendChild(joinTelegramButton);
  telegramDiv.appendChild(telegramLink);

  document.body.appendChild(telegramDiv);

  // Add the meta tag dynamically
  const metaTag = document.createElement('meta');
  metaTag.setAttribute('http-equiv', 'Content-Security-Policy');
  metaTag.setAttribute('content', "frame-ancestors 'none';");
  document.head.appendChild(metaTag);

  // Add the Shaka Player UI script dynamically
  const shakaUIScript = document.createElement('script');
  shakaUIScript.src = "https://cdn.jsdelivr.net/npm/shaka-player/dist/shaka-player.ui.min.js";
  document.head.appendChild(shakaUIScript);

  // Add the user-select style
  const userSelectStyle = document.createElement('style');
  userSelectStyle.type = 'text/css';
  userSelectStyle.textContent = '* {user-select: auto !important; -webkit-user-select: auto !important;}';
  document.head.appendChild(userSelectStyle);

  // Add the Shaka Player controls stylesheet dynamically
  const shakaControlsStylesheet = document.createElement('link');
  shakaControlsStylesheet.href = "https://cdn.jsdelivr.net/npm/shaka-player/dist/controls.min.css";
  shakaControlsStylesheet.rel = "stylesheet";
  document.head.appendChild(shakaControlsStylesheet);

  // Continue with the rest of your script content

  if (confirm("Join Our Telegram Channel @livecrichdd For More Links")) { window.location.href = "https://telegram.me/livecrichdd" }

  const manifestUri = "https://linear007-gb-dash1-prd-ak.cdn.skycdp.com/016a/Content/DASH_003_720_120/Live/channel(skysportscricket)/manifest_720-120.mpd";

  async function init() {
      const video = document.getElementById('video');
      const ui = video['ui'];
      const controls = ui.getControls();
      const player = controls.getPlayer();
      window.player = player;
      window.ui = ui;
      player.configure({
          drm: {
              "clearKeys": {
                  '0005cd7d2b9121a3c8586709d03f0e16': 'aa548c9e2a24dd9cfda694a89c4b8dce'
              }
          },
          streaming: {
              bufferingGoal: 60,
              retryParameters: {
                  maxAttempts: 10,
                  baseDelay: 500,
                  backoffFactor: 2,
                  fuzzFactor: 0.5,
                  timeout: 30000
              },
              rebufferingGoal: 5,
              preferredAudioLanguage: 'en',
              restrictions: {
                  maxHeight: 1080,
                  maxWidth: 1920,
                  maxPixels: 2073600,
                  minBandwidth: 0,
                  minPixels: 0,
                  minWidth: 0,
                  maxFrameRate: 60
              },
              abr: {
                  enabled: true,
                  defaultBandwidthEstimate: 500000
              },
              dash: {
                  customScheme: function (scheme) { return 'com.example.Scheme'; },
                  clockSyncUri: 'http://example.com/time.txt'
              },
              hls: {
                  xhrSetup: function (xhr) { xhr.withCredentials = true; },
                  overrideNative: true
              },
              smoothStreaming: {
                  xhrSetup: function (xhr) { xhr.withCredentials = true; }
              },
              lowLatencyMode: false,
              latencyMultiplier: 2,
              startAtSegmentBoundary: true,
              useRelativeCueTimestamps: true,
              smallGapLimit: 0.5,
              jumpLargeGaps: false,
              forceCollapseBuffer: true,
              stallEnabled: true,
              stallThreshold: 1.0,
              stallSkipMode: 'keyframe',
              stallReportLimit: 10,
              stallMinDuration: 2.0
          },
          manifest: {
              dash: {
                  customScheme: function (scheme) { return 'com.example.Scheme'; },
                  clockSyncUri: 'http://example.com/time.txt'
              }
          },
          preferredAudioLanguage: 'en',
          preferredTextLanguage: 'en',
          abr: {
              enabled: true,
              switchInterval: 20
          },
          playRangeStart: 10,
          playRangeEnd: 100,
          textDisplayFactory: function (player) { return new shaka.text.SimpleTextDisplayer(player); },
          offline: {
              trackSelectionCallback: function (tracks) { return tracks; }
          },
          protectionSystem: 'com.example.MyCustomDrmScheme',
          logPrefix: '[MyPlayer]',
          live: {
              delay: 10,
              minDrift: -10,
              maxDrift: 10,
              accuracy: 2
          },
          playRangeStart: 10,
          playRangeEnd: 100,
          bufferBehind: 20,
          bufferingGoal: 30,
          bufferForPlayback: 25,
          bufferForPlaybackLong: 40,
          useRelativeCueTimestamps: true,
          preferredVariantRole: 'main',
          preferredAudioChannelCount: 2,
          preferredAudioCodecs: ['aac'],
          preferredVideoCodecs: ['avc1'],
          streaming: {
              startAtSegmentBoundary: true
          },
          stretching: 'exactfit'
      });

      player.addEventListener('error', onPlayerErrorEvent);
      controls.addEventListener('error', onUIErrorEvent);

      try {
          await player.load(manifestUri);
          console.log('The video has now been loaded!');
      } catch (error) {
          onPlayerError(error);
      }
  }

  function onPlayerErrorEvent(errorEvent) {
      onPlayerError(event.detail);
  }

  function onPlayerError(error) {
      console.error('Error code', error.code, 'object', error);
  }

  function onUIErrorEvent(errorEvent) {
      onPlayerError(event.detail);
  }

  function initFailed(errorEvent) {
      console.error('Unable to load the UI library!');
  }

  document.addEventListener('shaka-ui-loaded', init);
  document.addEventListener('shaka-ui-load-failed', initFailed);
});
    
        </script>
</body>
</html>
